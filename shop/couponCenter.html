<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>领券中心</title>
		<link rel="stylesheet" type="text/css" href="css/base.css"/>
		<link rel="stylesheet" type="text/css" href="css/couponCenter.css "/>
	</head>
	<body>
		<div class="container">
			<!--banner-->
			<div class="banner">
				<img src="img/banner.png"/>
			</div>
			<div class="couponTitle">【微猜】全品类券汇总</div>
			<!--简介-->
			<div class="couponIntro">
				<span class="subtitle">【优惠简介】</span>
				<span>  全品类券汇总，每日更新，记得时时注</span>
				<span class="special">每日限量好券</span>
			</div>
			<!--券列表-->
			<div class="couponList">
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="activated">限领一次</div>
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">10%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton">立即领取</div>
					</div>
				</div>
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">60%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton buttonState">已领取</div>
					</div>
				</div>
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="activated">限领一次</div>
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">60%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton buttonState">别抢光了</div>
					</div>
				</div>
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="activated">限领一次</div>
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">90%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton">立即领取</div>
					</div>
				</div>
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="activated">限领一次</div>
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">60%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton">立即领取</div>
					</div>
				</div>
				<div class="couponCeil">
					<div class="faceValue">
						<div class="value">￥100</div>
						<div class="condition">满 1000 可用</div>
					</div>
					<div class="useDate">
						<div class="activated">限领一次</div>
						<div class="condition">全场通用</div>
						<div class="date">有效期至2018.07.27</div>
					</div>
					<div class="collectionNum">
						<div class="circle-bar">
						    <div class="circle-bar-left"></div>
						    <div class="circle-bar-right"></div>
						    <div class="mask">
						        <div class="percent">
						        	<span class="topTips">已领</span>
						        	<span class="nums">60%</span>
						        </div>
						    </div>
						</div>
						<div class="collectionButton">立即领取</div>
					</div>
				</div>				
			</div>
			
			<!--通用黑底白字弹框-->
			<div class="commonAlert" style="display: none;">你已领取过该优惠券每人限领一次</div>
			
			<!--领取弹框-->
			<div class="receiveAlert" style="display: none;">
				<div class="receive">
					<div class="closeIcon">
						<img class="phoneClose" src="img/small-delete.png"/>
						<div class="line"></div>
					</div>
					<div class="packageCon">
						<div class="packageTitle">
							<div class="subtitle">领取详情</div>
							<div class="couponContent">
								<div class="faceValue">
									<div class="value">￥3</div>
									<div class="condition">满30可用</div>
								</div>
								<div class="useDate">
									<div class="condition">全场通用</div>
									<div class="date">2018.07.12-2018.07.27</div>
								</div>
							</div>
						</div>
						<input class="phone" type="text" placeholder="请输入手机号领取" />
						<div class="packageButton">确认领取</div>
					</div>
				</div>
			</div>
			<!--领取成功弹框-->
			<div class="successAlert" style="display: none;">
				<div class="receive">
					<div class="closeIcon">
						<img class="phoneClose" src="img/small-delete.png"/>
						<div class="line"></div>
					</div>
					<div class="packageCon">
						<div class="packageTitle">
							<img class="successIcon" src="img/successIcon.png"/>
							<span style="margin-top: 0.2rem;">恭喜你领取成功</span>
						</div>
						<div class="packageButton" style="margin-top: 0.6rem;">立即使用</div>
					</div>
				</div>
			</div>
		</div>
		<script src="../分享页面/js/rem.js" type="text/javascript" charset="utf-8"></script>
		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<script type="text/javascript">
			$(function(){

				var percentNum = document.querySelectorAll('.nums');		        
				var cricleRight = document.querySelectorAll('.circle-bar-right');
				var cricleLeft = document.querySelectorAll('.circle-bar-left');
		        var baseColor = $('.circle-bar').css('background-color');	
		       for(var i=0;i<percentNum.length;i++){
                    console.log(percentNum[i].innerText);
                    if (parseFloat(percentNum[i].innerText) <= 50) {
                        cricleRight[i].style.transform='rotate(' + (parseFloat(percentNum[i].innerText) * 3.6) + 'deg)';
                    } else {
                    	cricleRight[i].style.transform='rotate(0deg)';
                        cricleRight[i].style.backgroundColor=baseColor;
                        cricleLeft[i].style.transform= 'rotate(' + ((parseFloat(percentNum[i].innerText) - 50) * 3.6) + 'deg)';
                    }
                }
		    });
		    //通用弹窗
		    document.querySelector('.buttonState').addEventListener('click',function(){
		    	document.querySelector('.commonAlert').style.display = 'block';
		    	setTimeout(function(){
		    		document.querySelector('.commonAlert').style.display = 'none';
		    	},1500);
		    })
		    
		    document.querySelector('.phoneClose').addEventListener('click',function(){
			  	document.querySelector('.receiveAlert').style.display = 'none';
			  });
		    
		     document.querySelector('.collectionButton').addEventListener('click',function(){
			  	document.querySelector('.receiveAlert').style.display = 'block';
			  });
			  
			document.querySelector('.packageButton').addEventListener('click',function(){
			  document.querySelector('.successAlert').style.display = 'block';
			});
			document.querySelector('.successAlert .phoneClose').addEventListener('click',function(){
			  document.querySelector('.successAlert').style.display = 'none';
			});  
		</script>
	</body>
</html>
